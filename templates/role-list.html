{% extends "base.html" %}
{% load static %}
{%  block start %}

			<!-- CONTENT WRAPPER -->
			<div class="ec-content-wrapper">
				<div class="content">
					<div class="breadcrumb-wrapper d-flex align-items-center justify-content-between">
						<div>
							<h1>role List</h1>
							<p class="breadcrumbs"><span><a href="{% url 'dashboard_view' %}">Dashboard</a></span>
								<span><i class="mdi mdi-chevron-right"></i></span>role List</p>
						</div>
						<div>          
							<a href="{%url 'add_role'%}" class="btn btn-primary">Add</a>
						</div>
					</div>
					<div class="row">
						<div class="col-12">
							<div class="card card-default">
								<div class="card-body">
									<div class="table-responsive">
										<table id="responsive-data-table" class="table">
											<thead>
												<tr>
													<th>S. No.</th>
													<th>role</th>
                                                    <th>Action</th>
												</tr>
											</thead>
 
											<tbody>
                                                {% for i in role %}
												<tr>
													<td>{{forloop.counter}}</td>
													<td>{{i.role}}</td>
													<td>
														<div class="btn-group mb-1">
															<button type="button"
																class="btn btn-outline-success">Action</button>
															<button type="button"
																class="btn btn-outline-success dropdown-toggle dropdown-toggle-split"
																data-bs-toggle="dropdown" aria-haspopup="true"
																aria-expanded="false" data-display="static">
																<span class="sr-only">Action</span> 
															</button>

															<div class="dropdown-menu">	
																
                                                                <a class="dropdown-item" href="{% url 'edit_role' i.id %}">Edit</a>
                                                                <a href="javascript:void(0);" class="dropdown-item delete-btn" data-url="{% url 'delete_role' i.id %}">Delete</a>
															</div>
															</div>
																				
															<div>
														</div>
													</td>
												</tr>
                                                {% endfor %}
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div> <!-- End Content -->
			</div> <!-- End Content Wrapper -->

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const deleteButtons = document.querySelectorAll(".delete-btn");

    deleteButtons.forEach(button => {
        button.addEventListener("click", function () {
            const deleteUrl = this.getAttribute("data-url");

            Swal.fire({
                title: 'Are you sure?',
                text: "This will permanently delete the office!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes, delete it!'
            }).then((result) => {
                if (result.isConfirmed) {
                    window.location.href = deleteUrl;
                }
            });
        });
    });
    
    // // Show success alerts
    // {% if add_success %}
    // Swal.fire({ icon: 'success', title: 'Created', text: 'Data created successfully!' });
    // {% endif %}
    // {% if update_success %}
    // Swal.fire({ icon: 'success', title: 'Updated', text: 'Data updated successfully!' });
    // {% endif %}
    // {% if delete_success %}
    // Swal.fire({ icon: 'success', title: 'Deleted', text: 'Data deleted successfully!' });
    // {% endif %}
});
</script>


{%  endblock %}		